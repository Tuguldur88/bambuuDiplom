{"ast":null,"code":"import { get } from 'axios';\nimport { call, cancel, cancelled, fork, put, take } from 'redux-saga/effects';\nimport { rootConstants } from '../_constants';\nimport qs from 'qs';\nimport LessonDatas from '../_data/lessonData';\nconst Lessondata = LessonDatas;\nconst datasss = [{\n  \"date\": \"2018\"\n}, {\n  \"spring\": [{\n    \"label\": \"A\",\n    \"y\": 20\n  }, {\n    \"label\": \"B\",\n    \"y\": 8\n  }, {\n    \"label\": \"C\",\n    \"y\": 4\n  }, {\n    \"label\": \"D\",\n    \"y\": 5\n  }, {\n    \"label\": \"F\",\n    \"y\": 6\n  }, {\n    \"label\": \"W\",\n    \"y\": 2\n  }, {\n    \"label\": \"I\",\n    \"y\": 2\n  }]\n}, {\n  \"autumn\": [{\n    \"label\": \"A\",\n    'y': 1\n  }, {\n    \"label\": \"B\",\n    \"y\": 8\n  }, {\n    \"label\": \"C\",\n    \"y\": 2\n  }, {\n    \"label\": \"D\",\n    \"y\": 9\n  }, {\n    \"label\": \"F\",\n    'y': 3\n  }, {\n    \"label\": \"W\",\n    \"y\": 2\n  }]\n}]; //Grapic hesgiin datag avah serveres avah jhuselt yvulah heseg\n\nexport function graphDataFetch(lessonName) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      fetch('http://localhost:3001/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n        },\n        body: qs.stringify({\n          'lessonname': lessonName\n        })\n      }).then(res => res.json()).then(data => {\n        resolve(data);\n      });\n    } catch (error) {\n      alert(\"4 doh laert\");\n      reject(error);\n    }\n  });\n}\nexport function* graphData(lessonName) {\n  try {\n    const lessonDatas = yield call(graphDataFetch, lessonName);\n    yield put({\n      type: rootConstants.MODAL_GRAP_TRUE,\n      data: lessonDatas\n    });\n  } catch (error) {\n    alert(\"error\");\n  } finally {\n    if (yield cancelled()) {\n      alert(\"cancel modal data \");\n    }\n  }\n}\nexport function* graphState() {\n  while (true) {\n    const {\n      data\n    } = yield take(rootConstants.MODAL_GRAP_REQUEST);\n    yield put({\n      type: rootConstants.MODAL_GRAP_REQUEST,\n      data: data\n    });\n    const setData = yield fork(graphData, data);\n  }\n}\nexport function allLessonStateFetch(data, data1) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      var hhha = 0;\n      alert(JSON.stringify(data));\n\n      for (var i = 0; i < Lessondata.lenght; i++) {\n        for (var j = 0; j < data.id.lenght; j++) {\n          if (Lessondata[i].id == data.id[j]) {\n            hhha = hhha + 1;\n          }\n        }\n      }\n\n      alert(hhha);\n    } catch (error) {\n      alert(\"4 doh laert\");\n      reject(error);\n    }\n  });\n}\nexport function* allLessonStateDispatch(data, data1) {\n  try {\n    const lessonDatas = yield call(allLessonStateFetch, data, data1);\n    yield put({\n      type: rootConstants.LESSON_SET_DATA,\n      data: lessonDatas\n    });\n  } catch (error) {\n    alert(\"LEsson ni error\");\n  } finally {\n    if (yield cancelled()) {\n      alert(\"buh hichel data orulhad alda garla\");\n    }\n  }\n}\nexport function* allLessonState() {\n  while (true) {\n    const {\n      data,\n      data1\n    } = yield take(rootConstants.MODAL_LESSON_FALSE);\n    const setData = yield fork(allLessonStateDispatch, data, data1);\n  }\n}","map":{"version":3,"sources":["/home/tuguldur/MyDream/Diplom/notepad/src/_saga/sagas.js"],"names":["get","call","cancel","cancelled","fork","put","take","rootConstants","qs","LessonDatas","Lessondata","datasss","graphDataFetch","lessonName","Promise","resolve","reject","fetch","method","headers","body","stringify","then","res","json","data","error","alert","graphData","lessonDatas","type","MODAL_GRAP_TRUE","graphState","MODAL_GRAP_REQUEST","setData","allLessonStateFetch","data1","hhha","JSON","i","lenght","j","id","allLessonStateDispatch","LESSON_SET_DATA","allLessonState","MODAL_LESSON_FALSE"],"mappings":"AAAA,SAASA,GAAT,QAAoB,OAApB;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,SAAvB,EAAkCC,IAAlC,EAAwCC,GAAxC,EAA6CC,IAA7C,QAAyD,oBAAzD;AACA,SAAQC,aAAR,QAA4B,eAA5B;AACA,OAAOC,EAAP,MAAe,IAAf;AACA,OAAOC,WAAP,MAAwB,qBAAxB;AACA,MAAMC,UAAU,GAAGD,WAAnB;AACA,MAAME,OAAO,GAAE,CACX;AAAC,UAAQ;AAAT,CADW,EAEX;AAAC,YAAS,CACE;AAAE,aAAS,GAAX;AAAgB,SAAK;AAArB,GADF,EAEE;AAAE,aAAS,GAAX;AAAgB,SAAK;AAArB,GAFF,EAGE;AAAE,aAAS,GAAX;AAAgB,SAAK;AAArB,GAHF,EAIE;AAAE,aAAS,GAAX;AAAgB,SAAK;AAArB,GAJF,EAKE;AAAE,aAAS,GAAX;AAAgB,SAAK;AAArB,GALF,EAME;AAAE,aAAS,GAAX;AAAgB,SAAK;AAArB,GANF,EAOE;AAAE,aAAS,GAAX;AAAgB,SAAK;AAArB,GAPF;AAAV,CAFW,EAWX;AAAC,YAAS,CACE;AAAE,aAAS,GAAX;AAAgB,SAAK;AAArB,GADF,EAEE;AAAE,aAAS,GAAX;AAAgB,SAAK;AAArB,GAFF,EAGE;AAAE,aAAS,GAAX;AAAgB,SAAK;AAArB,GAHF,EAIE;AAAE,aAAS,GAAX;AAAgB,SAAK;AAArB,GAJF,EAKE;AAAE,aAAS,GAAX;AAAgB,SAAK;AAArB,GALF,EAME;AAAE,aAAS,GAAX;AAAgB,SAAK;AAArB,GANF;AAAV,CAXW,CAAf,C,CAqBA;;AACA,OAAO,SAASC,cAAT,CAAyBC,UAAzB,EACP;AACI,SAAO,IAAIC,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KACnB;AACI,QACA;AACIC,MAAAA,KAAK,CAAC,6BAAD,EAAgC;AACjCC,QAAAA,MAAM,EAAE,MADyB;AAEjCC,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX,SAFwB;AAKjCC,QAAAA,IAAI,EAAGZ,EAAE,CAACa,SAAH,CAAa;AAAC,wBAAcR;AAAf,SAAb;AAL0B,OAAhC,CAAL,CAOCS,IAPD,CAOOC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAPf,EAQCF,IARD,CAQOG,IAAD,IAAU;AACZV,QAAAA,OAAO,CAACU,IAAD,CAAP;AAAc,OATlB;AAUH,KAZD,CAaA,OAAMC,KAAN,EACA;AACIC,MAAAA,KAAK,CAAC,aAAD,CAAL;AACAX,MAAAA,MAAM,CAACU,KAAD,CAAN;AACH;AACJ,GApBM,CAAP;AAqBH;AAED,OAAO,UAAUE,SAAV,CAAoBf,UAApB,EAAgC;AACnC,MACA;AACI,UAAMgB,WAAW,GAAG,MAAM5B,IAAI,CAACW,cAAD,EAAiBC,UAAjB,CAA9B;AACA,UAAMR,GAAG,CAAC;AAACyB,MAAAA,IAAI,EAAEvB,aAAa,CAACwB,eAArB;AAAsCN,MAAAA,IAAI,EAAEI;AAA5C,KAAD,CAAT;AACH,GAJD,CAKA,OAAMH,KAAN,EACA;AACIC,IAAAA,KAAK,CAAC,OAAD,CAAL;AACH,GARD,SAUA;AACI,QAAI,MAAMxB,SAAS,EAAnB,EACA;AACIwB,MAAAA,KAAK,CAAC,oBAAD,CAAL;AACH;AACJ;AACJ;AAED,OAAO,UAAUK,UAAV,GACP;AACI,SAAO,IAAP,EACA;AACI,UAAM;AAACP,MAAAA;AAAD,QAAS,MAAMnB,IAAI,CAACC,aAAa,CAAC0B,kBAAf,CAAzB;AACA,UAAM5B,GAAG,CAAC;AAACyB,MAAAA,IAAI,EAAEvB,aAAa,CAAC0B,kBAArB;AAAyCR,MAAAA,IAAI,EAAEA;AAA/C,KAAD,CAAT;AACA,UAAMS,OAAO,GAAG,MAAM9B,IAAI,CAACwB,SAAD,EAAYH,IAAZ,CAA1B;AACH;AACJ;AAeD,OAAO,SAASU,mBAAT,CAA8BV,IAA9B,EAAmCW,KAAnC,EACP;AACI,SAAO,IAAItB,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KACnB;AACI,QACA;AAAI,UAAIqB,IAAI,GAAC,CAAT;AACAV,MAAAA,KAAK,CAACW,IAAI,CAACjB,SAAL,CAAeI,IAAf,CAAD,CAAL;;AACA,WAAI,IAAIc,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAC7B,UAAU,CAAC8B,MAA1B,EAAkCD,CAAC,EAAnC,EACA;AACI,aAAI,IAAIE,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAChB,IAAI,CAACiB,EAAL,CAAQF,MAAvB,EAA8BC,CAAC,EAA/B,EACA;AACI,cAAG/B,UAAU,CAAC6B,CAAD,CAAV,CAAcG,EAAd,IAAoBjB,IAAI,CAACiB,EAAL,CAAQD,CAAR,CAAvB,EACA;AACIJ,YAAAA,IAAI,GAACA,IAAI,GAAC,CAAV;AACH;AACJ;AACJ;;AACDV,MAAAA,KAAK,CAACU,IAAD,CAAL;AAGH,KAhBD,CAiBA,OAAMX,KAAN,EACA;AACIC,MAAAA,KAAK,CAAC,aAAD,CAAL;AACAX,MAAAA,MAAM,CAACU,KAAD,CAAN;AACH;AACJ,GAxBM,CAAP;AAyBH;AACD,OAAO,UAAUiB,sBAAV,CAAiClB,IAAjC,EAAsCW,KAAtC,EAA6C;AAChD,MACA;AACI,UAAMP,WAAW,GAAG,MAAM5B,IAAI,CAACkC,mBAAD,EAAsBV,IAAtB,EAA4BW,KAA5B,CAA9B;AAEA,UAAM/B,GAAG,CAAC;AAACyB,MAAAA,IAAI,EAAEvB,aAAa,CAACqC,eAArB;AAAsCnB,MAAAA,IAAI,EAAEI;AAA5C,KAAD,CAAT;AACH,GALD,CAMA,OAAMH,KAAN,EACA;AACIC,IAAAA,KAAK,CAAC,iBAAD,CAAL;AACH,GATD,SAWA;AACI,QAAI,MAAMxB,SAAS,EAAnB,EACA;AACIwB,MAAAA,KAAK,CAAC,oCAAD,CAAL;AACH;AACJ;AACJ;AAED,OAAO,UAAUkB,cAAV,GACP;AACI,SAAO,IAAP,EACA;AACI,UAAM;AAACpB,MAAAA,IAAD;AAAOW,MAAAA;AAAP,QAAgB,MAAM9B,IAAI,CAACC,aAAa,CAACuC,kBAAf,CAAhC;AACA,UAAMZ,OAAO,GAAG,MAAM9B,IAAI,CAACuC,sBAAD,EAAyBlB,IAAzB,EAA8BW,KAA9B,CAA1B;AACH;AACJ","sourcesContent":["import { get } from 'axios';\nimport { call, cancel, cancelled, fork, put, take } from 'redux-saga/effects';\nimport {rootConstants} from '../_constants';\nimport qs from 'qs';\nimport LessonDatas from '../_data/lessonData';\nconst Lessondata = LessonDatas;\nconst datasss =[\n    {\"date\": \"2018\"},\n    {\"spring\":[\n                { \"label\": \"A\", \"y\": 20 },\n                { \"label\": \"B\", \"y\": 8 },\n                { \"label\": \"C\", \"y\": 4 },\n                { \"label\": \"D\", \"y\": 5 },\n                { \"label\": \"F\", \"y\": 6 },\n                { \"label\": \"W\", \"y\": 2 },\n                { \"label\": \"I\", \"y\": 2 }\n             ]},\n    {\"autumn\":[\n                { \"label\": \"A\", 'y': 1 },\n                { \"label\": \"B\", \"y\": 8 },\n                { \"label\": \"C\", \"y\": 2 },\n                { \"label\": \"D\", \"y\": 9 },\n                { \"label\": \"F\", 'y': 3 },\n                { \"label\": \"W\", \"y\": 2 },\n    ]}\n  \n  ]\n//Grapic hesgiin datag avah serveres avah jhuselt yvulah heseg\nexport function graphDataFetch (lessonName) \n{\n    return new Promise(async (resolve, reject) => \n    {\n        try \n        {  \n            fetch('http://localhost:3001/login', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n                },\n                body: \tqs.stringify({'lessonname': lessonName})\n            })\n            .then((res) => res.json())\n            .then((data) => {\n                resolve(data)})\n        } \n        catch(error) \n        {\n            alert(\"4 doh laert\")\n            reject(error);\n        }\n    });\n}\n\nexport function* graphData(lessonName) {\n    try \n    {\n        const lessonDatas = yield call(graphDataFetch, lessonName)\n        yield put({type: rootConstants.MODAL_GRAP_TRUE ,data: lessonDatas})\n    } \n    catch(error) \n    {\n        alert(\"error\")\n    }\n    finally \n    {\n        if (yield cancelled()) \n        {\n            alert(\"cancel modal data \")\n        }\n    }\n}\n  \nexport function* graphState() \n{\n    while (true) \n    {\n        const {data} = yield take(rootConstants.MODAL_GRAP_REQUEST)\n        yield put({type: rootConstants.MODAL_GRAP_REQUEST ,data: data})\n        const setData = yield fork(graphData, data)\n    }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport function allLessonStateFetch (data,data1) \n{\n    return new Promise(async (resolve, reject) => \n    {\n        try \n        {   var hhha=0;\n            alert(JSON.stringify(data)) \n            for(var i=0; i<Lessondata.lenght; i++)\n            {\n                for(var j=0; j<data.id.lenght;j++)\n                {\n                    if(Lessondata[i].id == data.id[j])\n                    {\n                        hhha=hhha+1;\n                    }\n                }\n            }   \n            alert(hhha)        \n\n                \n        } \n        catch(error) \n        {\n            alert(\"4 doh laert\")\n            reject(error);\n        }\n    });\n}\nexport function* allLessonStateDispatch(data,data1) {\n    try \n    {\n        const lessonDatas = yield call(allLessonStateFetch, data, data1)\n\n        yield put({type: rootConstants.LESSON_SET_DATA ,data: lessonDatas})\n    } \n    catch(error) \n    {\n        alert(\"LEsson ni error\")\n    }\n    finally \n    {\n        if (yield cancelled()) \n        {\n            alert(\"buh hichel data orulhad alda garla\")\n        }\n    }\n}\n\nexport function* allLessonState() \n{\n    while (true) \n    {\n        const {data, data1} = yield take(rootConstants.MODAL_LESSON_FALSE)\n        const setData = yield fork(allLessonStateDispatch, data,data1)\n    }\n}\n  "]},"metadata":{},"sourceType":"module"}