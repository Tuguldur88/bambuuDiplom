{"ast":null,"code":"import { get } from 'axios';\nimport { call, cancel, cancelled, fork, put, take } from 'redux-saga/effects';\nimport { rootConstants } from '../_constants';\nimport qs from 'qs'; //Grapic hesgiin datag avah serveres avah jhuselt yvulah heseg\n\nexport function graphDataFetch(lessonName) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      alert(lessonName);\n      fetch('http://localhost:3001/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n        },\n        body: qs.stringify({\n          'lessonname': lessonName\n        })\n      }).then(res => res.json()).then(data => {\n        resolve(data);\n      });\n    } catch (error) {\n      alert(\"4 doh laert\");\n      reject(error);\n    }\n  });\n}\nexport function* graphData(lessonName) {\n  try {\n    const lessonDatas = yield call(graphDataFetch, lessonName);\n    alert(JSON.stringify(lessonDatas[0]));\n    yield put({\n      type: rootConstants.MODAL_TRUE,\n      graphData: lessonDatas[0]\n    });\n  } catch (error) {\n    alert(\"error\");\n  } finally {\n    if (yield cancelled()) {\n      alert(\"cancel modal data \");\n    }\n  }\n}\nexport function* graphState() {\n  while (true) {\n    const {\n      data\n    } = yield take(rootConstants.MODAL_REQUEST);\n    yield put({\n      type: rootConstants.MODAL_REQUEST,\n      data: data\n    });\n    const setData = yield fork(graphData, data);\n  }\n}\nexport function* logActions() {\n  while (true) {\n    const action = yield take('*');\n    console.log(action.type);\n  }\n}","map":{"version":3,"sources":["/home/tuguldur/MyDream/Diplom/notepad/src/_saga/sagas.js"],"names":["get","call","cancel","cancelled","fork","put","take","rootConstants","qs","graphDataFetch","lessonName","Promise","resolve","reject","alert","fetch","method","headers","body","stringify","then","res","json","data","error","graphData","lessonDatas","JSON","type","MODAL_TRUE","graphState","MODAL_REQUEST","setData","logActions","action","console","log"],"mappings":"AAAA,SAASA,GAAT,QAAoB,OAApB;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,SAAvB,EAAkCC,IAAlC,EAAwCC,GAAxC,EAA6CC,IAA7C,QAAyD,oBAAzD;AACA,SAAQC,aAAR,QAA4B,eAA5B;AACA,OAAOC,EAAP,MAAe,IAAf,C,CACA;;AACA,OAAO,SAASC,cAAT,CAAyBC,UAAzB,EACP;AACI,SAAO,IAAIC,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KACnB;AACI,QACA;AACIC,MAAAA,KAAK,CAACJ,UAAD,CAAL;AACAK,MAAAA,KAAK,CAAC,6BAAD,EAAgC;AACjCC,QAAAA,MAAM,EAAE,MADyB;AAEjCC,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX,SAFwB;AAKjCC,QAAAA,IAAI,EAAGV,EAAE,CAACW,SAAH,CAAa;AAAC,wBAAcT;AAAf,SAAb;AAL0B,OAAhC,CAAL,CAOCU,IAPD,CAOOC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAPf,EAQCF,IARD,CAQOG,IAAD,IAAU;AAACX,QAAAA,OAAO,CAACW,IAAD,CAAP;AAAc,OAR/B;AASH,KAZD,CAaA,OAAMC,KAAN,EACA;AACIV,MAAAA,KAAK,CAAC,aAAD,CAAL;AACAD,MAAAA,MAAM,CAACW,KAAD,CAAN;AACH;AACJ,GApBM,CAAP;AAqBH;AAED,OAAO,UAAUC,SAAV,CAAoBf,UAApB,EAAgC;AACnC,MACA;AACI,UAAMgB,WAAW,GAAG,MAAMzB,IAAI,CAACQ,cAAD,EAAiBC,UAAjB,CAA9B;AACAI,IAAAA,KAAK,CAACa,IAAI,CAACR,SAAL,CAAeO,WAAW,CAAC,CAAD,CAA1B,CAAD,CAAL;AACA,UAAMrB,GAAG,CAAC;AAACuB,MAAAA,IAAI,EAAErB,aAAa,CAACsB,UAArB;AAAiCJ,MAAAA,SAAS,EAAEC,WAAW,CAAC,CAAD;AAAvD,KAAD,CAAT;AACH,GALD,CAMA,OAAMF,KAAN,EACA;AACIV,IAAAA,KAAK,CAAC,OAAD,CAAL;AACH,GATD,SAWA;AACI,QAAI,MAAMX,SAAS,EAAnB,EACA;AACIW,MAAAA,KAAK,CAAC,oBAAD,CAAL;AACH;AACJ;AACJ;AAED,OAAO,UAAUgB,UAAV,GACP;AACI,SAAO,IAAP,EACA;AACI,UAAM;AAACP,MAAAA;AAAD,QAAS,MAAMjB,IAAI,CAACC,aAAa,CAACwB,aAAf,CAAzB;AACA,UAAM1B,GAAG,CAAC;AAACuB,MAAAA,IAAI,EAAErB,aAAa,CAACwB,aAArB;AAAoCR,MAAAA,IAAI,EAAEA;AAA1C,KAAD,CAAT;AACA,UAAMS,OAAO,GAAG,MAAM5B,IAAI,CAACqB,SAAD,EAAYF,IAAZ,CAA1B;AACH;AACJ;AAED,OAAO,UAAUU,UAAV,GACP;AACI,SAAO,IAAP,EACA;AACE,UAAMC,MAAM,GAAG,MAAM5B,IAAI,CAAC,GAAD,CAAzB;AACA6B,IAAAA,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACN,IAAnB;AACD;AACJ","sourcesContent":["import { get } from 'axios';\nimport { call, cancel, cancelled, fork, put, take } from 'redux-saga/effects';\nimport {rootConstants} from '../_constants';\nimport qs from 'qs';\n//Grapic hesgiin datag avah serveres avah jhuselt yvulah heseg\nexport function graphDataFetch (lessonName) \n{\n    return new Promise(async (resolve, reject) => \n    {\n        try \n        {\n            alert(lessonName)\n            fetch('http://localhost:3001/login', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n                },\n                body: \tqs.stringify({'lessonname': lessonName})\n            })\n            .then((res) => res.json())\n            .then((data) => {resolve(data)})\n        } \n        catch(error) \n        {\n            alert(\"4 doh laert\")\n            reject(error);\n        }\n    });\n}\n\nexport function* graphData(lessonName) {\n    try \n    {\n        const lessonDatas = yield call(graphDataFetch, lessonName)\n        alert(JSON.stringify(lessonDatas[0]))\n        yield put({type: rootConstants.MODAL_TRUE ,graphData: lessonDatas[0]})\n    } \n    catch(error) \n    {\n        alert(\"error\")\n    }\n    finally \n    {\n        if (yield cancelled()) \n        {\n            alert(\"cancel modal data \")\n        }\n    }\n}\n  \nexport function* graphState() \n{\n    while (true) \n    {\n        const {data} = yield take(rootConstants.MODAL_REQUEST)\n        yield put({type: rootConstants.MODAL_REQUEST ,data: data})\n        const setData = yield fork(graphData, data)\n    }\n}\n  \nexport function* logActions() \n{\n    while (true) \n    {\n      const action = yield take('*')\n      console.log(action.type);\n    }\n}"]},"metadata":{},"sourceType":"module"}