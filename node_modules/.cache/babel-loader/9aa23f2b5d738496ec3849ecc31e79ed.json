{"ast":null,"code":"import { get } from 'axios';\nimport { call, cancel, cancelled, fork, put, take } from 'redux-saga/effects';\nimport { rootConstants } from '../_constants';\nimport qs from 'qs';\nexport function graphDataFetch(lessonName) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      fetch('http://localhost:3001/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n        },\n        body: qs.stringify({\n          'lessonname': lessonName\n        })\n      }).then(res => res.json()).then(data => {\n        resolve(data);\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\nexport function* graphData(lessonName) {\n  try {\n    alert(\"ehni laert\");\n    const lessonDatas = yield call(graphDataFetch, lessonName);\n    yield put({\n      type: rootConstants.MODAL_TRUE,\n      data: lessonDatas\n    });\n  } catch (error) {\n    alert(\"error\");\n  } finally {\n    if (yield cancelled()) {\n      alert(\"cancel modal data \");\n    }\n  }\n}\nexport function* graphState() {\n  while (true) {\n    const data = yield take(rootConstants.MODAL_REQUEST);\n    yield put({\n      type: rootConstants.MODAL_REQUEST,\n      data: data\n    });\n    const setData = yield fork(graphData, data);\n  }\n}\nexport function* logActions() {\n  while (true) {\n    const action = yield take('*');\n    console.log(action.type);\n  }\n}","map":{"version":3,"sources":["/home/tuguldur/MyDream/Diplom/notepad/src/_saga/sagas.js"],"names":["get","call","cancel","cancelled","fork","put","take","rootConstants","qs","graphDataFetch","lessonName","Promise","resolve","reject","fetch","method","headers","body","stringify","then","res","json","data","error","graphData","alert","lessonDatas","type","MODAL_TRUE","graphState","MODAL_REQUEST","setData","logActions","action","console","log"],"mappings":"AAAA,SAASA,GAAT,QAAoB,OAApB;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,SAAvB,EAAkCC,IAAlC,EAAwCC,GAAxC,EAA6CC,IAA7C,QAAyD,oBAAzD;AACA,SAAQC,aAAR,QAA4B,eAA5B;AACA,OAAOC,EAAP,MAAe,IAAf;AAEA,OAAO,SAASC,cAAT,CAAyBC,UAAzB,EAAqC;AACxC,SAAO,IAAIC,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;AAC5C,QAAI;AACFC,MAAAA,KAAK,CAAC,6BAAD,EAAgC;AACnCC,QAAAA,MAAM,EAAE,MAD2B;AAEnCC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAF0B;AAKnCC,QAAAA,IAAI,EAAGT,EAAE,CAACU,SAAH,CAAa;AAAC,wBAAcR;AAAf,SAAb;AAL4B,OAAhC,CAAL,CAOCS,IAPD,CAOOC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAPf,EAQCF,IARD,CAQOG,IAAD,IAAU;AACdV,QAAAA,OAAO,CAACU,IAAD,CAAP;AACD,OAVD;AAWD,KAZD,CAYE,OAAMC,KAAN,EAAa;AACbV,MAAAA,MAAM,CAACU,KAAD,CAAN;AACD;AACF,GAhBM,CAAP;AAiBD;AAED,OAAO,UAAUC,SAAV,CAAoBd,UAApB,EAAgC;AACrC,MAAI;AACAe,IAAAA,KAAK,CAAC,YAAD,CAAL;AACF,UAAMC,WAAW,GAAG,MAAMzB,IAAI,CAACQ,cAAD,EAAiBC,UAAjB,CAA9B;AACA,UAAML,GAAG,CAAC;AAACsB,MAAAA,IAAI,EAAEpB,aAAa,CAACqB,UAArB;AAAiCN,MAAAA,IAAI,EAAEI;AAAvC,KAAD,CAAT;AACD,GAJD,CAIE,OAAMH,KAAN,EAAa;AACbE,IAAAA,KAAK,CAAC,OAAD,CAAL;AACD,GAND,SAOQ;AACN,QAAI,MAAMtB,SAAS,EAAnB,EAAuB;AACnBsB,MAAAA,KAAK,CAAC,oBAAD,CAAL;AACH;AACF;AACF;AAED,OAAO,UAAUI,UAAV,GAAuB;AAC5B,SAAO,IAAP,EAAa;AACT,UAAMP,IAAI,GAAG,MAAMhB,IAAI,CAACC,aAAa,CAACuB,aAAf,CAAvB;AACA,UAAMzB,GAAG,CAAC;AAACsB,MAAAA,IAAI,EAAEpB,aAAa,CAACuB,aAArB;AAAoCR,MAAAA,IAAI,EAAEA;AAA1C,KAAD,CAAT;AACA,UAAMS,OAAO,GAAG,MAAM3B,IAAI,CAACoB,SAAD,EAAYF,IAAZ,CAA1B;AAGH;AACF;AAED,OAAO,UAAUU,UAAV,GAAuB;AAC5B,SAAO,IAAP,EAAa;AACX,UAAMC,MAAM,GAAG,MAAM3B,IAAI,CAAC,GAAD,CAAzB;AACA4B,IAAAA,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACN,IAAnB;AACD;AACF","sourcesContent":["import { get } from 'axios';\nimport { call, cancel, cancelled, fork, put, take } from 'redux-saga/effects';\nimport {rootConstants} from '../_constants';\nimport qs from 'qs';\n\nexport function graphDataFetch (lessonName) {\n    return new Promise(async (resolve, reject) => {\n      try {\n        fetch('http://localhost:3001/login', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n          },\n          body: \tqs.stringify({'lessonname': lessonName})\n        })\n        .then((res) => res.json())\n        .then((data) => { \n          resolve(data)\n        })\n      } catch(error) {\n        reject(error);\n      }\n    });\n  }\n  \n  export function* graphData(lessonName) {\n    try {\n        alert(\"ehni laert\")\n      const lessonDatas = yield call(graphDataFetch, lessonName)\n      yield put({type: rootConstants.MODAL_TRUE, data: lessonDatas})\n    } catch(error) {\n      alert(\"error\")\n    }\n    finally {\n      if (yield cancelled()) {\n          alert(\"cancel modal data \")\n      }\n    }\n  }\n  \n  export function* graphState() {\n    while (true) {\n        const data = yield take(rootConstants.MODAL_REQUEST)\n        yield put({type: rootConstants.MODAL_REQUEST ,data: data})\n        const setData = yield fork(graphData, data)\n\n\n    }\n  }\n  \n  export function* logActions() {\n    while (true) {\n      const action = yield take('*')\n      console.log(action.type);\n    }\n  }"]},"metadata":{},"sourceType":"module"}