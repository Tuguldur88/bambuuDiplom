{"ast":null,"code":"import { get } from 'axios';\nimport { call, cancel, cancelled, fork, put, take } from 'redux-saga/effects';\nimport { rootConstants } from '../_constants';\nexport function fakeAuthorize(user, password) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const result = await get('http://localhost:3001/login');\n      resolve(result.data.token);\n      alert(result.data.token);\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\nexport function* authorize(user, password) {\n  try {\n    const token = yield call(fakeAuthorize, user, password);\n    yield put({\n      type: 'LOGIN_SUCCESS'\n    });\n    yield put({\n      type: 'SAVE_TOKEN',\n      token\n    });\n  } catch (error) {\n    yield put({\n      type: 'LOGIN_ERROR',\n      error\n    });\n  } finally {\n    if (yield cancelled()) {\n      yield put({\n        type: 'LOGIN_CANCELLED'\n      });\n    }\n  }\n}\nexport function* graphState() {\n  while (true) {\n    const {\n      data\n    } = yield take(rootConstants.MODAL_REQUEST);\n    alert(\"SAdas\");\n    yield put({\n      type: rootConstants.MODAL_REQUEST,\n      data: 'sainshde sda mine hhaha'\n    });\n  }\n}\nexport function* logActions() {\n  while (true) {\n    const action = yield take('*');\n    console.log(action.type);\n  }\n}","map":{"version":3,"sources":["/home/tuguldur/MyDream/Diplom/notepad/src/_saga/sagas.js"],"names":["get","call","cancel","cancelled","fork","put","take","rootConstants","fakeAuthorize","user","password","Promise","resolve","reject","result","data","token","alert","error","authorize","type","graphState","MODAL_REQUEST","logActions","action","console","log"],"mappings":"AAAA,SAASA,GAAT,QAAoB,OAApB;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,SAAvB,EAAkCC,IAAlC,EAAwCC,GAAxC,EAA6CC,IAA7C,QAAyD,oBAAzD;AACA,SAAQC,aAAR,QAA4B,eAA5B;AAEA,OAAO,SAASC,aAAT,CAAwBC,IAAxB,EAA8BC,QAA9B,EAAwC;AAC3C,SAAO,IAAIC,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;AAC5C,QAAI;AACF,YAAMC,MAAM,GAAG,MAAMd,GAAG,CAAC,6BAAD,CAAxB;AACAY,MAAAA,OAAO,CAACE,MAAM,CAACC,IAAP,CAAYC,KAAb,CAAP;AACAC,MAAAA,KAAK,CAACH,MAAM,CAACC,IAAP,CAAYC,KAAb,CAAL;AACD,KAJD,CAIE,OAAME,KAAN,EAAa;AACbL,MAAAA,MAAM,CAACK,KAAD,CAAN;AACD;AACF,GARM,CAAP;AASD;AAED,OAAO,UAAUC,SAAV,CAAoBV,IAApB,EAA0BC,QAA1B,EAAoC;AACzC,MAAI;AACF,UAAMM,KAAK,GAAG,MAAMf,IAAI,CAACO,aAAD,EAAgBC,IAAhB,EAAsBC,QAAtB,CAAxB;AACA,UAAML,GAAG,CAAC;AAACe,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAT;AACA,UAAMf,GAAG,CAAC;AAACe,MAAAA,IAAI,EAAE,YAAP;AAAqBJ,MAAAA;AAArB,KAAD,CAAT;AACD,GAJD,CAIE,OAAME,KAAN,EAAa;AACb,UAAMb,GAAG,CAAC;AAACe,MAAAA,IAAI,EAAE,aAAP;AAAsBF,MAAAA;AAAtB,KAAD,CAAT;AACD,GAND,SAOQ;AACN,QAAI,MAAMf,SAAS,EAAnB,EAAuB;AACrB,YAAME,GAAG,CAAC;AAACe,QAAAA,IAAI,EAAE;AAAP,OAAD,CAAT;AACD;AACF;AACF;AAED,OAAO,UAAUC,UAAV,GAAuB;AAC5B,SAAO,IAAP,EAAa;AACX,UAAM;AAACN,MAAAA;AAAD,QAAS,MAAMT,IAAI,CAACC,aAAa,CAACe,aAAf,CAAzB;AACAL,IAAAA,KAAK,CAAC,OAAD,CAAL;AACE,UAAMZ,GAAG,CAAC;AAACe,MAAAA,IAAI,EAAEb,aAAa,CAACe,aAArB;AAAoCP,MAAAA,IAAI,EAAE;AAA1C,KAAD,CAAT;AACH;AACF;AAED,OAAO,UAAUQ,UAAV,GAAuB;AAC5B,SAAO,IAAP,EAAa;AACX,UAAMC,MAAM,GAAG,MAAMlB,IAAI,CAAC,GAAD,CAAzB;AACAmB,IAAAA,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACJ,IAAnB;AACD;AACF","sourcesContent":["import { get } from 'axios';\nimport { call, cancel, cancelled, fork, put, take } from 'redux-saga/effects';\nimport {rootConstants} from '../_constants';\n\nexport function fakeAuthorize (user, password) {\n    return new Promise(async (resolve, reject) => {\n      try {\n        const result = await get('http://localhost:3001/login');\n        resolve(result.data.token);\n        alert(result.data.token);\n      } catch(error) {\n        reject(error);\n      }\n    });\n  }\n  \n  export function* authorize(user, password) {\n    try {\n      const token = yield call(fakeAuthorize, user, password)\n      yield put({type: 'LOGIN_SUCCESS'})\n      yield put({type: 'SAVE_TOKEN', token});\n    } catch(error) {\n      yield put({type: 'LOGIN_ERROR', error})\n    }\n    finally {\n      if (yield cancelled()) {\n        yield put({type: 'LOGIN_CANCELLED'})\n      }\n    }\n  }\n  \n  export function* graphState() {\n    while (true) {\n      const {data} = yield take(rootConstants.MODAL_REQUEST)\n      alert(\"SAdas\")\n        yield put({type: rootConstants.MODAL_REQUEST ,data: 'sainshde sda mine hhaha'})\n    }\n  }\n  \n  export function* logActions() {\n    while (true) {\n      const action = yield take('*')\n      console.log(action.type);\n    }\n  }"]},"metadata":{},"sourceType":"module"}